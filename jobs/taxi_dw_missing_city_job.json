{
  "name": "taxi-dw-daily-incremental-load-and-enrichment",
  "max_concurrent_runs": 1,
  "schedule": {
    "quartz_cron_expression": "0 0 7 * * ?",
    "timezone_id": "America/Los_Angeles",
    "pause_status": "UNPAUSED"
  },
  "environments": [
    {
      "environment_key": "default",
      "spec": {
        "client": "2"
      }
    }
  ],
  "tasks": [
    {
      "task_key": "run-incremental-dw-load",
      "description": "Incrementally merge new/changed source rows into taxi DW fact and dimensions.",
      "spark_python_task": {
        "python_file": "/Users/rickoe@hotmail.com/taxi_dw/pipelines/run_incremental_dw_load.py",
        "source": "WORKSPACE"
      },
      "environment_key": "default",
      "timeout_seconds": 0
    },
    {
      "task_key": "update-missing-cities",
      "description": "Refresh missing city names from external ZIP reference and incrementally upsert city/zipcode dimensions.",
      "depends_on": [
        {
          "task_key": "run-incremental-dw-load"
        }
      ],
      "spark_python_task": {
        "python_file": "/Users/rickoe@hotmail.com/taxi_dw/pipelines/update_missing_cities.py",
        "source": "WORKSPACE"
      },
      "environment_key": "default",
      "timeout_seconds": 0
    }
  ]
}
